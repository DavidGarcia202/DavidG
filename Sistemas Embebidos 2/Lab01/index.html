
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../Actvidad%201/">
      
      
        <link rel="next" href="../TaskExcercise/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Session 3 - Lab Homework - Plantilla para DocumentaciÃ³n</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.5.2/css/all.css">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#session-3-lab-homework" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Plantilla para DocumentaciÃ³n" class="md-header__button md-logo" aria-label="Plantilla para DocumentaciÃ³n" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Plantilla para DocumentaciÃ³n
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Session 3 - Lab Homework
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Plantilla para DocumentaciÃ³n" class="md-nav__button md-logo" aria-label="Plantilla para DocumentaciÃ³n" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Plantilla para DocumentaciÃ³n
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    David GarcÃ­a
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Ejemplos
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Ejemplos
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ejemplos/comandos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Encabezados
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ejemplos/ejemplo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ðŸ“š Ejemplo de DocumentaciÃ³n del Proyecto
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Ejemplos/gitcmds/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ðŸš€ Comandos bÃ¡sicos de Git (primeros pasos)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Proyectos4
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Proyectos4
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Proyectos4/1_Perfil/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ðŸ’¿Perfil
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Proyectos4/Cafe/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cafe
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Proyectos4/Costos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Costos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Proyectos4/Gannt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Diagrama de Gannt
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Proyectos4/Proyecto/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Nuestro Proyecto
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Proyectos4/ProyectoFInal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Proyecto Final
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Proyectos4/Semana2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Semana 2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Proyectos4/Semana4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Semana 4
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Proyectos4/Semana5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SegmentaciÃ³n
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Proyectos4/Syllabus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Syllabus Firmado
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Sistemas Embebidos
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Sistemas Embebidos
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Sistemas%20Embebidos/EXAMEN2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ðŸ“š Examen 2do Parcial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Sistemas%20Embebidos/OutputsBasicos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ðŸ“¤ Outputs BÃ¡sicos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Sistemas%20Embebidos/Proyecto/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Proyecto Final micromouse
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Sistemas%20Embebidos/Tarea1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ðŸ¤– Tarea 1: Tabla comparativa
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Sistemas%20Embebidos/Tarea2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ðŸ¤– Tarea 2: Outputs BÃ¡sicos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Sistemas%20Embebidos/Tarea3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ðŸ¤– Tarea 3: Inputs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Sistemas%20Embebidos/Tarea4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ðŸ¤– Tarea 4: Pong
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Sistemas%20Embebidos/Tarea5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ðŸ¤– Tarea 5: Ejercicio de MediciÃ³n.
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Sistemas%20Embebidos/Tarea6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ðŸ¤– Tarea 6: Ejercicios de ProgramaciÃ³n
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Sistemas%20Embebidos/Tarea7.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ðŸ¤– Tarea 7.1: PWM
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Sistemas%20Embebidos/Tarea7.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ðŸ¤– Tarea 7.2: PWM
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Sistemas%20Embebidos/Tarea7.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ðŸ¤– Tarea 7.3: GeneraciÃ³n de SeÃ±ales â€” Senoidal de 60 Hz con PWM + Filtro RC
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Sistemas%20Embebidos/Tarea8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ðŸ“š TAREA 8
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Sistemas%20Embebidos/Tarea9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ðŸ“š TAREA 9
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Sistemas Embebidos 2
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Sistemas Embebidos 2
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Actvidad%201/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Session 2 - Class Activity 01
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Session 3 - Lab Homework
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Session 3 - Lab Homework
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-exercise-goals" class="md-nav__link">
    <span class="md-ellipsis">
      
        1) Exercise Goals
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-materials-setup" class="md-nav__link">
    <span class="md-ellipsis">
      
        2) Materials &amp; Setup
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-procedure" class="md-nav__link">
    <span class="md-ellipsis">
      
        3) Procedure
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lab-1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Lab 1
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lab 1">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#first-code" class="md-nav__link">
    <span class="md-ellipsis">
      
        First Code
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#video-of-it-working-without-modifications" class="md-nav__link">
    <span class="md-ellipsis">
      
        Video of it working without modifications
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experiment-1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Experiment 1
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Experiment 1">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-code" class="md-nav__link">
    <span class="md-ellipsis">
      
        New Code
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#video-of-it-working" class="md-nav__link">
    <span class="md-ellipsis">
      
        Video of it working
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experiment-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Experiment 2
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Experiment 2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-code_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        New Code
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#video-of-it-working_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Video of it working
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#video-of-it-working-with-hello_task-as-a-higher-priority" class="md-nav__link">
    <span class="md-ellipsis">
      
        Video of it working with hello_task as a higher priority
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lab-2-queue-producerconsumer" class="md-nav__link">
    <span class="md-ellipsis">
      
        Lab 2 Queue: producer/consumer
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lab 2 Queue: producer/consumer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#first-code_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        First Code
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#video-of-it-working-without-modifications_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Video of it working without modifications
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experiment-1_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Experiment 1
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Experiment 1">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-code_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        New Code
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#video-of-it-working_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Video of it working
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experiment-2_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Experiment 2
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Experiment 2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#line-of-code-changed" class="md-nav__link">
    <span class="md-ellipsis">
      
        Line of code changed
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#video-of-it-modified" class="md-nav__link">
    <span class="md-ellipsis">
      
        Video of it modified
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experiment-3" class="md-nav__link">
    <span class="md-ellipsis">
      
        Experiment 3
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Experiment 3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#video-of-it-working_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        Video of it working
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lab-3-mutex-protect-a-shared-resource" class="md-nav__link">
    <span class="md-ellipsis">
      
        Lab 3 Mutex: protect a shared resource
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lab 3 Mutex: protect a shared resource">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#first-code-race-demo-no-mutex" class="md-nav__link">
    <span class="md-ellipsis">
      
        First Code Race Demo no mutex
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#first-code-fix-with-a-mutex" class="md-nav__link">
    <span class="md-ellipsis">
      
        First code fix with a mutex
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#video-of-it-working-wo-modifications" class="md-nav__link">
    <span class="md-ellipsis">
      
        Video of it working w/o modifications
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Video of it working w/o modifications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#video-of-it-working_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        Video of it working
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#change-priorities-taska-priority-6-taskb-priority-4" class="md-nav__link">
    <span class="md-ellipsis">
      
        Change priorities: TaskA priority 6, TaskB priority 4.
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../TaskExcercise/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Session 3 - Task Excercise
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-exercise-goals" class="md-nav__link">
    <span class="md-ellipsis">
      
        1) Exercise Goals
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-materials-setup" class="md-nav__link">
    <span class="md-ellipsis">
      
        2) Materials &amp; Setup
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-procedure" class="md-nav__link">
    <span class="md-ellipsis">
      
        3) Procedure
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lab-1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Lab 1
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lab 1">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#first-code" class="md-nav__link">
    <span class="md-ellipsis">
      
        First Code
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#video-of-it-working-without-modifications" class="md-nav__link">
    <span class="md-ellipsis">
      
        Video of it working without modifications
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experiment-1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Experiment 1
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Experiment 1">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-code" class="md-nav__link">
    <span class="md-ellipsis">
      
        New Code
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#video-of-it-working" class="md-nav__link">
    <span class="md-ellipsis">
      
        Video of it working
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experiment-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Experiment 2
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Experiment 2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-code_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        New Code
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#video-of-it-working_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Video of it working
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#video-of-it-working-with-hello_task-as-a-higher-priority" class="md-nav__link">
    <span class="md-ellipsis">
      
        Video of it working with hello_task as a higher priority
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lab-2-queue-producerconsumer" class="md-nav__link">
    <span class="md-ellipsis">
      
        Lab 2 Queue: producer/consumer
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lab 2 Queue: producer/consumer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#first-code_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        First Code
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#video-of-it-working-without-modifications_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Video of it working without modifications
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experiment-1_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Experiment 1
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Experiment 1">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-code_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        New Code
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#video-of-it-working_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Video of it working
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experiment-2_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Experiment 2
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Experiment 2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#line-of-code-changed" class="md-nav__link">
    <span class="md-ellipsis">
      
        Line of code changed
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#video-of-it-modified" class="md-nav__link">
    <span class="md-ellipsis">
      
        Video of it modified
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experiment-3" class="md-nav__link">
    <span class="md-ellipsis">
      
        Experiment 3
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Experiment 3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#video-of-it-working_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        Video of it working
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lab-3-mutex-protect-a-shared-resource" class="md-nav__link">
    <span class="md-ellipsis">
      
        Lab 3 Mutex: protect a shared resource
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lab 3 Mutex: protect a shared resource">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#first-code-race-demo-no-mutex" class="md-nav__link">
    <span class="md-ellipsis">
      
        First Code Race Demo no mutex
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#first-code-fix-with-a-mutex" class="md-nav__link">
    <span class="md-ellipsis">
      
        First code fix with a mutex
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#video-of-it-working-wo-modifications" class="md-nav__link">
    <span class="md-ellipsis">
      
        Video of it working w/o modifications
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Video of it working w/o modifications">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#video-of-it-working_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        Video of it working
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#change-priorities-taska-priority-6-taskb-priority-4" class="md-nav__link">
    <span class="md-ellipsis">
      
        Change priorities: TaskA priority 6, TaskB priority 4.
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="session-3-lab-homework">Session 3 - Lab Homework</h1>
<h2 id="1-exercise-goals">1) Exercise Goals</h2>
<p>[x]  Read and answer the questions from Labs 1 trough 3</p>
<h2 id="2-materials-setup">2) Materials &amp; Setup</h2>
<ul>
<li><strong>Tools/Software</strong> - Editors: VS Code, Python 3.12</li>
<li><strong>Hardware</strong> - ESP32-C6, LED</li>
</ul>
<h2 id="3-procedure">3) Procedure</h2>
<h2 id="lab-1">Lab 1</h2>
<h3 id="first-code">First Code</h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1">#include &lt;stdio.h&gt;</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="c1">#include &quot;freertos/FreeRTOS.h&quot;</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="c1">#include &quot;freertos/task.h&quot;</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c1">#include &quot;driver/gpio.h&quot;</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="c1">#include &quot;esp_log.h&quot;</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="c1">#define LED_GPIO GPIO_NUM_2   // CHANGE for your board</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>static<span class="w"> </span>const<span class="w"> </span>char<span class="w"> </span>*TAG<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;LAB1&quot;</span><span class="p">;</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>static<span class="w"> </span>void<span class="w"> </span>blink_task<span class="o">(</span>void<span class="w"> </span>*pvParameters<span class="o">)</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="o">{</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="w">    </span>gpio_reset_pin<span class="o">(</span>LED_GPIO<span class="o">)</span><span class="p">;</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="w">    </span>gpio_set_direction<span class="o">(</span>LED_GPIO,<span class="w"> </span>GPIO_MODE_OUTPUT<span class="o">)</span><span class="p">;</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="o">(</span><span class="m">1</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="w">        </span>gpio_set_level<span class="o">(</span>LED_GPIO,<span class="w"> </span><span class="m">1</span><span class="o">)</span><span class="p">;</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="w">        </span>vTaskDelay<span class="o">(</span>pdMS_TO_TICKS<span class="o">(</span><span class="m">300</span><span class="o">))</span><span class="p">;</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="w">        </span>gpio_set_level<span class="o">(</span>LED_GPIO,<span class="w"> </span><span class="m">0</span><span class="o">)</span><span class="p">;</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a><span class="w">        </span>vTaskDelay<span class="o">(</span>pdMS_TO_TICKS<span class="o">(</span><span class="m">300</span><span class="o">))</span><span class="p">;</span>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="w">    </span><span class="o">}</span>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="o">}</span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>static<span class="w"> </span>void<span class="w"> </span>hello_task<span class="o">(</span>void<span class="w"> </span>*pvParameters<span class="o">)</span>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a><span class="o">{</span>
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a><span class="w">    </span>int<span class="w"> </span><span class="nv">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="o">(</span><span class="m">1</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a><span class="w">        </span>ESP_LOGI<span class="o">(</span>TAG,<span class="w"> </span><span class="s2">&quot;hello_task says hi, n=%d&quot;</span>,<span class="w"> </span>n++<span class="o">)</span><span class="p">;</span>
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a><span class="w">        </span>vTaskDelay<span class="o">(</span>pdMS_TO_TICKS<span class="o">(</span><span class="m">1000</span><span class="o">))</span><span class="p">;</span>
</span><span id="__span-0-30"><a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a><span class="w">    </span><span class="o">}</span>
</span><span id="__span-0-31"><a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a><span class="o">}</span>
</span><span id="__span-0-32"><a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a>
</span><span id="__span-0-33"><a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a>void<span class="w"> </span>app_main<span class="o">(</span>void<span class="o">)</span>
</span><span id="__span-0-34"><a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a><span class="o">{</span>
</span><span id="__span-0-35"><a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a><span class="w">    </span>ESP_LOGI<span class="o">(</span>TAG,<span class="w"> </span><span class="s2">&quot;Starting Lab 1 (two tasks)&quot;</span><span class="o">)</span><span class="p">;</span>
</span><span id="__span-0-36"><a id="__codelineno-0-36" name="__codelineno-0-36" href="#__codelineno-0-36"></a>
</span><span id="__span-0-37"><a id="__codelineno-0-37" name="__codelineno-0-37" href="#__codelineno-0-37"></a><span class="w">    </span>//<span class="w"> </span>Stack<span class="w"> </span>size<span class="w"> </span><span class="k">in</span><span class="w"> </span>ESP-IDF<span class="w"> </span>FreeRTOS<span class="w"> </span>is<span class="w"> </span><span class="k">in</span><span class="w"> </span>BYTES
</span><span id="__span-0-38"><a id="__codelineno-0-38" name="__codelineno-0-38" href="#__codelineno-0-38"></a><span class="w">    </span>xTaskCreate<span class="o">(</span>blink_task,<span class="w"> </span><span class="s2">&quot;blink_task&quot;</span>,<span class="w"> </span><span class="m">2048</span>,<span class="w"> </span>NULL,<span class="w"> </span><span class="m">5</span>,<span class="w"> </span>NULL<span class="o">)</span><span class="p">;</span>
</span><span id="__span-0-39"><a id="__codelineno-0-39" name="__codelineno-0-39" href="#__codelineno-0-39"></a><span class="w">    </span>xTaskCreate<span class="o">(</span>hello_task,<span class="w"> </span><span class="s2">&quot;hello_task&quot;</span>,<span class="w"> </span><span class="m">2048</span>,<span class="w"> </span>NULL,<span class="w"> </span><span class="m">5</span>,<span class="w"> </span>NULL<span class="o">)</span><span class="p">;</span>
</span><span id="__span-0-40"><a id="__codelineno-0-40" name="__codelineno-0-40" href="#__codelineno-0-40"></a><span class="o">}</span>
</span></code></pre></div>
<h3 id="video-of-it-working-without-modifications">Video of it working without modifications</h3>
<iframe width="560" height="315" src="https://www.youtube.com/embed/JBFUYanOvcM" frameborder="0" allowfullscreen></iframe>

<h3 id="experiment-1">Experiment 1</h3>
<ul>
<li>Priority experiment: change hello_task priority from 5 to 2.</li>
</ul>
<h4 id="new-code">New Code</h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1">#include &lt;stdio.h&gt;</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="c1">#include &quot;freertos/FreeRTOS.h&quot;</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="c1">#include &quot;freertos/task.h&quot;</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="c1">#include &quot;driver/gpio.h&quot;</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="c1">#include &quot;esp_log.h&quot;</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="c1">#define LED_GPIO GPIO_NUM_2   // CHANGE for your board</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>static<span class="w"> </span>const<span class="w"> </span>char<span class="w"> </span>*TAG<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;LAB1&quot;</span><span class="p">;</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>static<span class="w"> </span>void<span class="w"> </span>blink_task<span class="o">(</span>void<span class="w"> </span>*pvParameters<span class="o">)</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="o">{</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="w">    </span>gpio_reset_pin<span class="o">(</span>LED_GPIO<span class="o">)</span><span class="p">;</span>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="w">    </span>gpio_set_direction<span class="o">(</span>LED_GPIO,<span class="w"> </span>GPIO_MODE_OUTPUT<span class="o">)</span><span class="p">;</span>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="o">(</span><span class="m">1</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a><span class="w">        </span>gpio_set_level<span class="o">(</span>LED_GPIO,<span class="w"> </span><span class="m">1</span><span class="o">)</span><span class="p">;</span>
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a><span class="w">        </span>vTaskDelay<span class="o">(</span>pdMS_TO_TICKS<span class="o">(</span><span class="m">300</span><span class="o">))</span><span class="p">;</span>
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a><span class="w">        </span>gpio_set_level<span class="o">(</span>LED_GPIO,<span class="w"> </span><span class="m">0</span><span class="o">)</span><span class="p">;</span>
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a><span class="w">        </span>vTaskDelay<span class="o">(</span>pdMS_TO_TICKS<span class="o">(</span><span class="m">300</span><span class="o">))</span><span class="p">;</span>
</span><span id="__span-1-21"><a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a><span class="w">    </span><span class="o">}</span>
</span><span id="__span-1-22"><a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a><span class="o">}</span>
</span><span id="__span-1-23"><a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a>
</span><span id="__span-1-24"><a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a>static<span class="w"> </span>void<span class="w"> </span>hello_task<span class="o">(</span>void<span class="w"> </span>*pvParameters<span class="o">)</span>
</span><span id="__span-1-25"><a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a><span class="o">{</span>
</span><span id="__span-1-26"><a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a><span class="w">    </span>int<span class="w"> </span><span class="nv">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
</span><span id="__span-1-27"><a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="o">(</span><span class="m">1</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-1-28"><a id="__codelineno-1-28" name="__codelineno-1-28" href="#__codelineno-1-28"></a><span class="w">        </span>ESP_LOGI<span class="o">(</span>TAG,<span class="w"> </span><span class="s2">&quot;hello_task says hi, n=%d&quot;</span>,<span class="w"> </span>n++<span class="o">)</span><span class="p">;</span>
</span><span id="__span-1-29"><a id="__codelineno-1-29" name="__codelineno-1-29" href="#__codelineno-1-29"></a><span class="w">        </span>vTaskDelay<span class="o">(</span>pdMS_TO_TICKS<span class="o">(</span><span class="m">1000</span><span class="o">))</span><span class="p">;</span>
</span><span id="__span-1-30"><a id="__codelineno-1-30" name="__codelineno-1-30" href="#__codelineno-1-30"></a><span class="w">    </span><span class="o">}</span>
</span><span id="__span-1-31"><a id="__codelineno-1-31" name="__codelineno-1-31" href="#__codelineno-1-31"></a><span class="o">}</span>
</span><span id="__span-1-32"><a id="__codelineno-1-32" name="__codelineno-1-32" href="#__codelineno-1-32"></a>
</span><span id="__span-1-33"><a id="__codelineno-1-33" name="__codelineno-1-33" href="#__codelineno-1-33"></a>void<span class="w"> </span>app_main<span class="o">(</span>void<span class="o">)</span>
</span><span id="__span-1-34"><a id="__codelineno-1-34" name="__codelineno-1-34" href="#__codelineno-1-34"></a><span class="o">{</span>
</span><span id="__span-1-35"><a id="__codelineno-1-35" name="__codelineno-1-35" href="#__codelineno-1-35"></a><span class="w">    </span>ESP_LOGI<span class="o">(</span>TAG,<span class="w"> </span><span class="s2">&quot;Starting Lab 1 (two tasks)&quot;</span><span class="o">)</span><span class="p">;</span>
</span><span id="__span-1-36"><a id="__codelineno-1-36" name="__codelineno-1-36" href="#__codelineno-1-36"></a>
</span><span id="__span-1-37"><a id="__codelineno-1-37" name="__codelineno-1-37" href="#__codelineno-1-37"></a><span class="w">    </span>//<span class="w"> </span>Stack<span class="w"> </span>size<span class="w"> </span><span class="k">in</span><span class="w"> </span>ESP-IDF<span class="w"> </span>FreeRTOS<span class="w"> </span>is<span class="w"> </span><span class="k">in</span><span class="w"> </span>BYTES
</span><span id="__span-1-38"><a id="__codelineno-1-38" name="__codelineno-1-38" href="#__codelineno-1-38"></a><span class="w">    </span>xTaskCreate<span class="o">(</span>blink_task,<span class="w"> </span><span class="s2">&quot;blink_task&quot;</span>,<span class="w"> </span><span class="m">2048</span>,<span class="w"> </span>NULL,<span class="w"> </span><span class="m">5</span>,<span class="w"> </span>NULL<span class="o">)</span><span class="p">;</span>
</span><span id="__span-1-39"><a id="__codelineno-1-39" name="__codelineno-1-39" href="#__codelineno-1-39"></a><span class="w">    </span>xTaskCreate<span class="o">(</span>hello_task,<span class="w"> </span><span class="s2">&quot;hello_task&quot;</span>,<span class="w"> </span><span class="m">2048</span>,<span class="w"> </span>NULL,<span class="w"> </span><span class="m">2</span>,<span class="w"> </span>NULL<span class="o">)</span><span class="p">;</span>
</span><span id="__span-1-40"><a id="__codelineno-1-40" name="__codelineno-1-40" href="#__codelineno-1-40"></a><span class="o">}</span>
</span></code></pre></div>
<h4 id="video-of-it-working">Video of it working</h4>
<iframe width="560" height="315" src="https://youtube.com/shorts/dxw3BCAVOWQ" frameborder="0" allowfullscreen></iframe>

<ul>
<li><strong>Does behavior change? Why might it (or might it not)?</strong> - There is no noticeable change, due to the VTaskDelay() function, which makes that must of the time the tasks are in a Blocked state, and spend 99% of their time sleeping, so the low priority task could do it without a noticeable delay, it will matters if both tasks are ready to run at the same microsecond.</li>
</ul>
<h3 id="experiment-2">Experiment  2</h3>
<ul>
<li>Starvation demo: temporarily remove vTaskDelay(...) from hello_task.</li>
</ul>
<h4 id="new-code_1">New Code</h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1">#include &lt;stdio.h&gt;</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="c1">#include &quot;freertos/FreeRTOS.h&quot;</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="c1">#include &quot;freertos/task.h&quot;</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="c1">#include &quot;driver/gpio.h&quot;</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="c1">#include &quot;esp_log.h&quot;</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="c1">#define LED_GPIO GPIO_NUM_2   // CHANGE for your board</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>static<span class="w"> </span>const<span class="w"> </span>char<span class="w"> </span>*TAG<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;LAB1&quot;</span><span class="p">;</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>static<span class="w"> </span>void<span class="w"> </span>blink_task<span class="o">(</span>void<span class="w"> </span>*pvParameters<span class="o">)</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="o">{</span>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="w">    </span>gpio_reset_pin<span class="o">(</span>LED_GPIO<span class="o">)</span><span class="p">;</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="w">    </span>gpio_set_direction<span class="o">(</span>LED_GPIO,<span class="w"> </span>GPIO_MODE_OUTPUT<span class="o">)</span><span class="p">;</span>
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="o">(</span><span class="m">1</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a><span class="w">        </span>gpio_set_level<span class="o">(</span>LED_GPIO,<span class="w"> </span><span class="m">1</span><span class="o">)</span><span class="p">;</span>
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="w">        </span>vTaskDelay<span class="o">(</span>pdMS_TO_TICKS<span class="o">(</span><span class="m">300</span><span class="o">))</span><span class="p">;</span>
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a><span class="w">        </span>gpio_set_level<span class="o">(</span>LED_GPIO,<span class="w"> </span><span class="m">0</span><span class="o">)</span><span class="p">;</span>
</span><span id="__span-2-20"><a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a><span class="w">        </span>vTaskDelay<span class="o">(</span>pdMS_TO_TICKS<span class="o">(</span><span class="m">300</span><span class="o">))</span><span class="p">;</span>
</span><span id="__span-2-21"><a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a><span class="w">    </span><span class="o">}</span>
</span><span id="__span-2-22"><a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a><span class="o">}</span>
</span><span id="__span-2-23"><a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a>
</span><span id="__span-2-24"><a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a>static<span class="w"> </span>void<span class="w"> </span>hello_task<span class="o">(</span>void<span class="w"> </span>*pvParameters<span class="o">)</span>
</span><span id="__span-2-25"><a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a><span class="o">{</span>
</span><span id="__span-2-26"><a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a><span class="w">    </span>int<span class="w"> </span><span class="nv">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
</span><span id="__span-2-27"><a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="o">(</span><span class="m">1</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-2-28"><a id="__codelineno-2-28" name="__codelineno-2-28" href="#__codelineno-2-28"></a><span class="w">        </span>ESP_LOGI<span class="o">(</span>TAG,<span class="w"> </span><span class="s2">&quot;hello_task says hi, n=%d&quot;</span>,<span class="w"> </span>n++<span class="o">)</span><span class="p">;</span>
</span><span id="__span-2-29"><a id="__codelineno-2-29" name="__codelineno-2-29" href="#__codelineno-2-29"></a><span class="w">    </span><span class="o">}</span>
</span><span id="__span-2-30"><a id="__codelineno-2-30" name="__codelineno-2-30" href="#__codelineno-2-30"></a><span class="o">}</span>
</span><span id="__span-2-31"><a id="__codelineno-2-31" name="__codelineno-2-31" href="#__codelineno-2-31"></a>
</span><span id="__span-2-32"><a id="__codelineno-2-32" name="__codelineno-2-32" href="#__codelineno-2-32"></a>void<span class="w"> </span>app_main<span class="o">(</span>void<span class="o">)</span>
</span><span id="__span-2-33"><a id="__codelineno-2-33" name="__codelineno-2-33" href="#__codelineno-2-33"></a><span class="o">{</span>
</span><span id="__span-2-34"><a id="__codelineno-2-34" name="__codelineno-2-34" href="#__codelineno-2-34"></a><span class="w">    </span>ESP_LOGI<span class="o">(</span>TAG,<span class="w"> </span><span class="s2">&quot;Starting Lab 1 (two tasks)&quot;</span><span class="o">)</span><span class="p">;</span>
</span><span id="__span-2-35"><a id="__codelineno-2-35" name="__codelineno-2-35" href="#__codelineno-2-35"></a>
</span><span id="__span-2-36"><a id="__codelineno-2-36" name="__codelineno-2-36" href="#__codelineno-2-36"></a><span class="w">    </span>//<span class="w"> </span>Stack<span class="w"> </span>size<span class="w"> </span><span class="k">in</span><span class="w"> </span>ESP-IDF<span class="w"> </span>FreeRTOS<span class="w"> </span>is<span class="w"> </span><span class="k">in</span><span class="w"> </span>BYTES
</span><span id="__span-2-37"><a id="__codelineno-2-37" name="__codelineno-2-37" href="#__codelineno-2-37"></a><span class="w">    </span>xTaskCreate<span class="o">(</span>blink_task,<span class="w"> </span><span class="s2">&quot;blink_task&quot;</span>,<span class="w"> </span><span class="m">2048</span>,<span class="w"> </span>NULL,<span class="w"> </span><span class="m">5</span>,<span class="w"> </span>NULL<span class="o">)</span><span class="p">;</span>
</span><span id="__span-2-38"><a id="__codelineno-2-38" name="__codelineno-2-38" href="#__codelineno-2-38"></a><span class="w">    </span>xTaskCreate<span class="o">(</span>hello_task,<span class="w"> </span><span class="s2">&quot;hello_task&quot;</span>,<span class="w"> </span><span class="m">2048</span>,<span class="w"> </span>NULL,<span class="w"> </span><span class="m">2</span>,<span class="w"> </span>NULL<span class="o">)</span><span class="p">;</span>
</span><span id="__span-2-39"><a id="__codelineno-2-39" name="__codelineno-2-39" href="#__codelineno-2-39"></a><span class="o">}</span>
</span></code></pre></div>
<h4 id="video-of-it-working_1">Video of it working</h4>
<iframe width="560" height="315" src="https://www.youtube.com/embed/-a6wAHV17UE" frameborder="0" allowfullscreen></iframe>

<h4 id="video-of-it-working-with-hello_task-as-a-higher-priority">Video of it working with hello_task as a higher priority</h4>
<iframe width="560" height="315" src="https://www.youtube.com/embed/2-AvU6tteJM" frameborder="0" allowfullscreen></iframe>

<ul>
<li>
<p><strong>What happens to blinking?</strong> - The LED is still blinking, even if the priority is lower or the same as the hello_task, however, the however_task will run without delays in the moniitor, which in some cases will crash. In addition, if we change the priority of the hello_task to a higher one, the led will blink faster, making it loooks like it is completly on, because it is stuck in the Ready progress, it is showed in the second video.</p>
</li>
<li>
<p><strong>Put the delay back and explain in one sentence why blocking helps.</strong> - It helps, to move tasks to a blocked state and let other tasks to run until its time has passed.</p>
</li>
</ul>
<h2 id="lab-2-queue-producerconsumer">Lab 2 Queue: producer/consumer</h2>
<h3 id="first-code_1">First Code</h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1">#include &lt;stdio.h&gt;</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="c1">#include &quot;freertos/FreeRTOS.h&quot;</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="c1">#include &quot;freertos/task.h&quot;</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="c1">#include &quot;freertos/queue.h&quot;</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="c1">#include &quot;esp_log.h&quot;</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>static<span class="w"> </span>const<span class="w"> </span>char<span class="w"> </span>*TAG<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;LAB2&quot;</span><span class="p">;</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>static<span class="w"> </span>QueueHandle_t<span class="w"> </span>q_numbers<span class="p">;</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>static<span class="w"> </span>void<span class="w"> </span>producer_task<span class="o">(</span>void<span class="w"> </span>*pvParameters<span class="o">)</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="o">{</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="w">    </span>int<span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="o">(</span><span class="m">1</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="w">        </span>value++<span class="p">;</span>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a><span class="w">        </span>//<span class="w"> </span>Send<span class="w"> </span>to<span class="w"> </span>queue<span class="p">;</span><span class="w"> </span><span class="nb">wait</span><span class="w"> </span>up<span class="w"> </span>to<span class="w"> </span>50ms<span class="w"> </span><span class="k">if</span><span class="w"> </span>full
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="o">(</span>xQueueSend<span class="o">(</span>q_numbers,<span class="w"> </span><span class="p">&amp;</span>value,<span class="w"> </span>pdMS_TO_TICKS<span class="o">(</span><span class="m">50</span><span class="o">))</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>pdPASS<span class="o">)</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a><span class="w">            </span>ESP_LOGI<span class="o">(</span>TAG,<span class="w"> </span><span class="s2">&quot;Produced %d&quot;</span>,<span class="w"> </span>value<span class="o">)</span><span class="p">;</span>
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a><span class="w">        </span><span class="o">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a><span class="w">            </span>ESP_LOGW<span class="o">(</span>TAG,<span class="w"> </span><span class="s2">&quot;Queue full, dropped %d&quot;</span>,<span class="w"> </span>value<span class="o">)</span><span class="p">;</span>
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a><span class="w">        </span><span class="o">}</span>
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a>
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a><span class="w">        </span>vTaskDelay<span class="o">(</span>pdMS_TO_TICKS<span class="o">(</span><span class="m">200</span><span class="o">))</span><span class="p">;</span>
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a><span class="w">    </span><span class="o">}</span>
</span><span id="__span-3-26"><a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a><span class="o">}</span>
</span><span id="__span-3-27"><a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a>
</span><span id="__span-3-28"><a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a>static<span class="w"> </span>void<span class="w"> </span>consumer_task<span class="o">(</span>void<span class="w"> </span>*pvParameters<span class="o">)</span>
</span><span id="__span-3-29"><a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a><span class="o">{</span>
</span><span id="__span-3-30"><a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a><span class="w">    </span>int<span class="w"> </span><span class="nv">rx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
</span><span id="__span-3-31"><a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a>
</span><span id="__span-3-32"><a id="__codelineno-3-32" name="__codelineno-3-32" href="#__codelineno-3-32"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="o">(</span><span class="m">1</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-3-33"><a id="__codelineno-3-33" name="__codelineno-3-33" href="#__codelineno-3-33"></a><span class="w">        </span>//<span class="w"> </span>Wait<span class="w"> </span>up<span class="w"> </span>to<span class="w"> </span>1000ms<span class="w"> </span><span class="k">for</span><span class="w"> </span>data
</span><span id="__span-3-34"><a id="__codelineno-3-34" name="__codelineno-3-34" href="#__codelineno-3-34"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="o">(</span>xQueueReceive<span class="o">(</span>q_numbers,<span class="w"> </span><span class="p">&amp;</span>rx,<span class="w"> </span>pdMS_TO_TICKS<span class="o">(</span><span class="m">1000</span><span class="o">))</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>pdPASS<span class="o">)</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-3-35"><a id="__codelineno-3-35" name="__codelineno-3-35" href="#__codelineno-3-35"></a><span class="w">            </span>ESP_LOGI<span class="o">(</span>TAG,<span class="w"> </span><span class="s2">&quot;Consumed %d&quot;</span>,<span class="w"> </span>rx<span class="o">)</span><span class="p">;</span>
</span><span id="__span-3-36"><a id="__codelineno-3-36" name="__codelineno-3-36" href="#__codelineno-3-36"></a><span class="w">        </span><span class="o">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-3-37"><a id="__codelineno-3-37" name="__codelineno-3-37" href="#__codelineno-3-37"></a><span class="w">            </span>ESP_LOGW<span class="o">(</span>TAG,<span class="w"> </span><span class="s2">&quot;No data in 1s&quot;</span><span class="o">)</span><span class="p">;</span>
</span><span id="__span-3-38"><a id="__codelineno-3-38" name="__codelineno-3-38" href="#__codelineno-3-38"></a><span class="w">        </span><span class="o">}</span>
</span><span id="__span-3-39"><a id="__codelineno-3-39" name="__codelineno-3-39" href="#__codelineno-3-39"></a><span class="w">    </span><span class="o">}</span>
</span><span id="__span-3-40"><a id="__codelineno-3-40" name="__codelineno-3-40" href="#__codelineno-3-40"></a><span class="o">}</span>
</span><span id="__span-3-41"><a id="__codelineno-3-41" name="__codelineno-3-41" href="#__codelineno-3-41"></a>
</span><span id="__span-3-42"><a id="__codelineno-3-42" name="__codelineno-3-42" href="#__codelineno-3-42"></a>void<span class="w"> </span>app_main<span class="o">(</span>void<span class="o">)</span>
</span><span id="__span-3-43"><a id="__codelineno-3-43" name="__codelineno-3-43" href="#__codelineno-3-43"></a><span class="o">{</span>
</span><span id="__span-3-44"><a id="__codelineno-3-44" name="__codelineno-3-44" href="#__codelineno-3-44"></a><span class="w">    </span>ESP_LOGI<span class="o">(</span>TAG,<span class="w"> </span><span class="s2">&quot;Starting Lab 2 (queue)&quot;</span><span class="o">)</span><span class="p">;</span>
</span><span id="__span-3-45"><a id="__codelineno-3-45" name="__codelineno-3-45" href="#__codelineno-3-45"></a>
</span><span id="__span-3-46"><a id="__codelineno-3-46" name="__codelineno-3-46" href="#__codelineno-3-46"></a><span class="w">    </span><span class="nv">q_numbers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>xQueueCreate<span class="o">(</span><span class="m">5</span>,<span class="w"> </span>sizeof<span class="o">(</span>int<span class="o">))</span><span class="p">;</span><span class="w"> </span>//<span class="w"> </span>length<span class="w"> </span><span class="m">5</span>
</span><span id="__span-3-47"><a id="__codelineno-3-47" name="__codelineno-3-47" href="#__codelineno-3-47"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">(</span><span class="nv">q_numbers</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>NULL<span class="o">)</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-3-48"><a id="__codelineno-3-48" name="__codelineno-3-48" href="#__codelineno-3-48"></a><span class="w">        </span>ESP_LOGE<span class="o">(</span>TAG,<span class="w"> </span><span class="s2">&quot;Queue create failed&quot;</span><span class="o">)</span><span class="p">;</span>
</span><span id="__span-3-49"><a id="__codelineno-3-49" name="__codelineno-3-49" href="#__codelineno-3-49"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
</span><span id="__span-3-50"><a id="__codelineno-3-50" name="__codelineno-3-50" href="#__codelineno-3-50"></a><span class="w">    </span><span class="o">}</span>
</span><span id="__span-3-51"><a id="__codelineno-3-51" name="__codelineno-3-51" href="#__codelineno-3-51"></a>
</span><span id="__span-3-52"><a id="__codelineno-3-52" name="__codelineno-3-52" href="#__codelineno-3-52"></a><span class="w">    </span>xTaskCreate<span class="o">(</span>producer_task,<span class="w"> </span><span class="s2">&quot;producer_task&quot;</span>,<span class="w"> </span><span class="m">2048</span>,<span class="w"> </span>NULL,<span class="w"> </span><span class="m">5</span>,<span class="w"> </span>NULL<span class="o">)</span><span class="p">;</span>
</span><span id="__span-3-53"><a id="__codelineno-3-53" name="__codelineno-3-53" href="#__codelineno-3-53"></a><span class="w">    </span>xTaskCreate<span class="o">(</span>consumer_task,<span class="w"> </span><span class="s2">&quot;consumer_task&quot;</span>,<span class="w"> </span><span class="m">2048</span>,<span class="w"> </span>NULL,<span class="w"> </span><span class="m">5</span>,<span class="w"> </span>NULL<span class="o">)</span><span class="p">;</span>
</span><span id="__span-3-54"><a id="__codelineno-3-54" name="__codelineno-3-54" href="#__codelineno-3-54"></a><span class="o">}</span>
</span></code></pre></div>
<h3 id="video-of-it-working-without-modifications_1">Video of it working without modifications</h3>
<iframe width="560" height="315" src="https://www.youtube.com/embed/_gC4YUlhtd4" frameborder="0" allowfullscreen></iframe>

<h3 id="experiment-1_1">Experiment 1</h3>
<ul>
<li>Make the producer faster: change producer delay 200ms â†’ 20ms.</li>
</ul>
<h4 id="new-code_2">New Code</h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1">#include &lt;stdio.h&gt;</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="c1">#include &quot;freertos/FreeRTOS.h&quot;</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="c1">#include &quot;freertos/task.h&quot;</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="c1">#include &quot;freertos/queue.h&quot;</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="c1">#include &quot;esp_log.h&quot;</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>static<span class="w"> </span>const<span class="w"> </span>char<span class="w"> </span>*TAG<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;LAB2&quot;</span><span class="p">;</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>static<span class="w"> </span>QueueHandle_t<span class="w"> </span>q_numbers<span class="p">;</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>static<span class="w"> </span>void<span class="w"> </span>producer_task<span class="o">(</span>void<span class="w"> </span>*pvParameters<span class="o">)</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="o">{</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="w">    </span>int<span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="o">(</span><span class="m">1</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a><span class="w">        </span>value++<span class="p">;</span>
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a>
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a><span class="w">        </span>//<span class="w"> </span>Send<span class="w"> </span>to<span class="w"> </span>queue<span class="p">;</span><span class="w"> </span><span class="nb">wait</span><span class="w"> </span>up<span class="w"> </span>to<span class="w"> </span>50ms<span class="w"> </span><span class="k">if</span><span class="w"> </span>full
</span><span id="__span-4-18"><a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="o">(</span>xQueueSend<span class="o">(</span>q_numbers,<span class="w"> </span><span class="p">&amp;</span>value,<span class="w"> </span>pdMS_TO_TICKS<span class="o">(</span><span class="m">50</span><span class="o">))</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>pdPASS<span class="o">)</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-4-19"><a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a><span class="w">            </span>ESP_LOGI<span class="o">(</span>TAG,<span class="w"> </span><span class="s2">&quot;Produced %d&quot;</span>,<span class="w"> </span>value<span class="o">)</span><span class="p">;</span>
</span><span id="__span-4-20"><a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a><span class="w">        </span><span class="o">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-4-21"><a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a><span class="w">            </span>ESP_LOGW<span class="o">(</span>TAG,<span class="w"> </span><span class="s2">&quot;Queue full, dropped %d&quot;</span>,<span class="w"> </span>value<span class="o">)</span><span class="p">;</span>
</span><span id="__span-4-22"><a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a><span class="w">        </span><span class="o">}</span>
</span><span id="__span-4-23"><a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a>
</span><span id="__span-4-24"><a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a><span class="w">        </span>vTaskDelay<span class="o">(</span>pdMS_TO_TICKS<span class="o">(</span><span class="m">20</span><span class="o">))</span><span class="p">;</span>
</span><span id="__span-4-25"><a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a><span class="w">    </span><span class="o">}</span>
</span><span id="__span-4-26"><a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a><span class="o">}</span>
</span><span id="__span-4-27"><a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a>
</span><span id="__span-4-28"><a id="__codelineno-4-28" name="__codelineno-4-28" href="#__codelineno-4-28"></a>static<span class="w"> </span>void<span class="w"> </span>consumer_task<span class="o">(</span>void<span class="w"> </span>*pvParameters<span class="o">)</span>
</span><span id="__span-4-29"><a id="__codelineno-4-29" name="__codelineno-4-29" href="#__codelineno-4-29"></a><span class="o">{</span>
</span><span id="__span-4-30"><a id="__codelineno-4-30" name="__codelineno-4-30" href="#__codelineno-4-30"></a><span class="w">    </span>int<span class="w"> </span><span class="nv">rx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
</span><span id="__span-4-31"><a id="__codelineno-4-31" name="__codelineno-4-31" href="#__codelineno-4-31"></a>
</span><span id="__span-4-32"><a id="__codelineno-4-32" name="__codelineno-4-32" href="#__codelineno-4-32"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="o">(</span><span class="m">1</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-4-33"><a id="__codelineno-4-33" name="__codelineno-4-33" href="#__codelineno-4-33"></a><span class="w">        </span>//<span class="w"> </span>Wait<span class="w"> </span>up<span class="w"> </span>to<span class="w"> </span>1000ms<span class="w"> </span><span class="k">for</span><span class="w"> </span>data
</span><span id="__span-4-34"><a id="__codelineno-4-34" name="__codelineno-4-34" href="#__codelineno-4-34"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="o">(</span>xQueueReceive<span class="o">(</span>q_numbers,<span class="w"> </span><span class="p">&amp;</span>rx,<span class="w"> </span>pdMS_TO_TICKS<span class="o">(</span><span class="m">1000</span><span class="o">))</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>pdPASS<span class="o">)</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-4-35"><a id="__codelineno-4-35" name="__codelineno-4-35" href="#__codelineno-4-35"></a><span class="w">            </span>ESP_LOGI<span class="o">(</span>TAG,<span class="w"> </span><span class="s2">&quot;Consumed %d&quot;</span>,<span class="w"> </span>rx<span class="o">)</span><span class="p">;</span>
</span><span id="__span-4-36"><a id="__codelineno-4-36" name="__codelineno-4-36" href="#__codelineno-4-36"></a><span class="w">        </span><span class="o">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-4-37"><a id="__codelineno-4-37" name="__codelineno-4-37" href="#__codelineno-4-37"></a><span class="w">            </span>ESP_LOGW<span class="o">(</span>TAG,<span class="w"> </span><span class="s2">&quot;No data in 1s&quot;</span><span class="o">)</span><span class="p">;</span>
</span><span id="__span-4-38"><a id="__codelineno-4-38" name="__codelineno-4-38" href="#__codelineno-4-38"></a><span class="w">        </span><span class="o">}</span>
</span><span id="__span-4-39"><a id="__codelineno-4-39" name="__codelineno-4-39" href="#__codelineno-4-39"></a><span class="w">    </span><span class="o">}</span>
</span><span id="__span-4-40"><a id="__codelineno-4-40" name="__codelineno-4-40" href="#__codelineno-4-40"></a><span class="o">}</span>
</span><span id="__span-4-41"><a id="__codelineno-4-41" name="__codelineno-4-41" href="#__codelineno-4-41"></a>
</span><span id="__span-4-42"><a id="__codelineno-4-42" name="__codelineno-4-42" href="#__codelineno-4-42"></a>void<span class="w"> </span>app_main<span class="o">(</span>void<span class="o">)</span>
</span><span id="__span-4-43"><a id="__codelineno-4-43" name="__codelineno-4-43" href="#__codelineno-4-43"></a><span class="o">{</span>
</span><span id="__span-4-44"><a id="__codelineno-4-44" name="__codelineno-4-44" href="#__codelineno-4-44"></a><span class="w">    </span>ESP_LOGI<span class="o">(</span>TAG,<span class="w"> </span><span class="s2">&quot;Starting Lab 2 (queue)&quot;</span><span class="o">)</span><span class="p">;</span>
</span><span id="__span-4-45"><a id="__codelineno-4-45" name="__codelineno-4-45" href="#__codelineno-4-45"></a>
</span><span id="__span-4-46"><a id="__codelineno-4-46" name="__codelineno-4-46" href="#__codelineno-4-46"></a><span class="w">    </span><span class="nv">q_numbers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>xQueueCreate<span class="o">(</span><span class="m">5</span>,<span class="w"> </span>sizeof<span class="o">(</span>int<span class="o">))</span><span class="p">;</span><span class="w"> </span>//<span class="w"> </span>length<span class="w"> </span><span class="m">5</span>
</span><span id="__span-4-47"><a id="__codelineno-4-47" name="__codelineno-4-47" href="#__codelineno-4-47"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">(</span><span class="nv">q_numbers</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>NULL<span class="o">)</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-4-48"><a id="__codelineno-4-48" name="__codelineno-4-48" href="#__codelineno-4-48"></a><span class="w">        </span>ESP_LOGE<span class="o">(</span>TAG,<span class="w"> </span><span class="s2">&quot;Queue create failed&quot;</span><span class="o">)</span><span class="p">;</span>
</span><span id="__span-4-49"><a id="__codelineno-4-49" name="__codelineno-4-49" href="#__codelineno-4-49"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
</span><span id="__span-4-50"><a id="__codelineno-4-50" name="__codelineno-4-50" href="#__codelineno-4-50"></a><span class="w">    </span><span class="o">}</span>
</span><span id="__span-4-51"><a id="__codelineno-4-51" name="__codelineno-4-51" href="#__codelineno-4-51"></a>
</span><span id="__span-4-52"><a id="__codelineno-4-52" name="__codelineno-4-52" href="#__codelineno-4-52"></a><span class="w">    </span>xTaskCreate<span class="o">(</span>producer_task,<span class="w"> </span><span class="s2">&quot;producer_task&quot;</span>,<span class="w"> </span><span class="m">2048</span>,<span class="w"> </span>NULL,<span class="w"> </span><span class="m">5</span>,<span class="w"> </span>NULL<span class="o">)</span><span class="p">;</span>
</span><span id="__span-4-53"><a id="__codelineno-4-53" name="__codelineno-4-53" href="#__codelineno-4-53"></a><span class="w">    </span>xTaskCreate<span class="o">(</span>consumer_task,<span class="w"> </span><span class="s2">&quot;consumer_task&quot;</span>,<span class="w"> </span><span class="m">2048</span>,<span class="w"> </span>NULL,<span class="w"> </span><span class="m">5</span>,<span class="w"> </span>NULL<span class="o">)</span><span class="p">;</span>
</span><span id="__span-4-54"><a id="__codelineno-4-54" name="__codelineno-4-54" href="#__codelineno-4-54"></a><span class="o">}</span>
</span></code></pre></div>
<h4 id="video-of-it-working_2">Video of it working</h4>
<iframe width="560" height="315" src="https://www.youtube.com/embed/skTfCmXJOWk" frameborder="0" allowfullscreen></iframe>

<ul>
<li><strong>When do you see â€œQueue fullâ€?</strong> - I never see the queue full, since my consumer is faster than the consumer,because, it is awake like all the time, since the producer is sending information every 20 ms. But i should see it when the producer is putting items into the queue faster than the consumer can take them out.</li>
</ul>
<h3 id="experiment-2_1">Experiment 2</h3>
<ul>
<li>Increase the queue length 5 â†’ 20.</li>
</ul>
<h4 id="line-of-code-changed">Line of code changed</h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nv">q_numbers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>xQueueCreate<span class="o">(</span><span class="m">20</span>,<span class="w"> </span>sizeof<span class="o">(</span>int<span class="o">))</span><span class="p">;</span><span class="w"> </span>//<span class="w"> </span>length<span class="w"> </span><span class="m">5</span>
</span></code></pre></div>
<h4 id="video-of-it-modified">Video of it modified</h4>
<iframe width="560" height="315" src="https://www.youtube.com/embed/JBFUYanOvcM" frameborder="0" allowfullscreen></iframe>

<ul>
<li><strong>What changed</strong> - In my case there is no noticeable difference, because the consumer is faster than the consumer, because it has no delay and is awake every time the producer is sending data, so, is always ready to recieve the new message, making the queue always empty for new data.</li>
</ul>
<h3 id="experiment-3">Experiment 3</h3>
<ul>
<li>Make the consumer â€œslowâ€: after a successful receive, add: vTaskDelay(pdMS_TO_TICKS(300));</li>
</ul>
<h4 id="video-of-it-working_3">Video of it working</h4>
<iframe width="560" height="315" src="https://www.youtube.com/embed/-6PK8rryN7M" frameborder="0" allowfullscreen></iframe>

<ul>
<li><strong>What pattern is happening now (buffering / backlog)?</strong> - Both of them, since, for backlog my producer is faster than the consumer making a backlog of 20 numbers waiting to be processed, making also an overflow which is loosing data, the queue is full, due to the producer which is faster, so in some point it starts buffering.</li>
</ul>
<h2 id="lab-3-mutex-protect-a-shared-resource">Lab 3 Mutex: protect a shared resource</h2>
<h3 id="first-code-race-demo-no-mutex">First Code Race Demo no mutex</h3>
<p><div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1">#include &lt;stdio.h&gt;</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="c1">#include &quot;freertos/FreeRTOS.h&quot;</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="c1">#include &quot;freertos/task.h&quot;</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="c1">#include &quot;esp_log.h&quot;</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>static<span class="w"> </span>const<span class="w"> </span>char<span class="w"> </span>*TAG<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;LAB3A&quot;</span><span class="p">;</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>static<span class="w"> </span>volatile<span class="w"> </span>int<span class="w"> </span><span class="nv">shared_counter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>static<span class="w"> </span>void<span class="w"> </span>increment_task<span class="o">(</span>void<span class="w"> </span>*pvParameters<span class="o">)</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="o">{</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="w">    </span>const<span class="w"> </span>char<span class="w"> </span>*name<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>const<span class="w"> </span>char<span class="w"> </span>*<span class="o">)</span>pvParameters<span class="p">;</span>
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="o">(</span><span class="m">1</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a><span class="w">        </span>//<span class="w"> </span>NOT<span class="w"> </span>safe:<span class="w"> </span>read-modify-write<span class="w"> </span>without<span class="w"> </span>protection
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a><span class="w">        </span>int<span class="w"> </span><span class="nb">local</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>shared_counter<span class="p">;</span>
</span><span id="__span-6-17"><a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a><span class="w">        </span>local++<span class="p">;</span>
</span><span id="__span-6-18"><a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a><span class="w">        </span><span class="nv">shared_counter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>local<span class="p">;</span>
</span><span id="__span-6-19"><a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a>
</span><span id="__span-6-20"><a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="o">((</span>shared_counter<span class="w"> </span>%<span class="w"> </span><span class="m">1000</span><span class="o">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">0</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-6-21"><a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a><span class="w">            </span>ESP_LOGI<span class="o">(</span>TAG,<span class="w"> </span><span class="s2">&quot;%s sees counter=%d&quot;</span>,<span class="w"> </span>name,<span class="w"> </span>shared_counter<span class="o">)</span><span class="p">;</span>
</span><span id="__span-6-22"><a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a><span class="w">        </span><span class="o">}</span>
</span><span id="__span-6-23"><a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a>
</span><span id="__span-6-24"><a id="__codelineno-6-24" name="__codelineno-6-24" href="#__codelineno-6-24"></a><span class="w">        </span>vTaskDelay<span class="o">(</span>pdMS_TO_TICKS<span class="o">(</span><span class="m">1</span><span class="o">))</span><span class="p">;</span>
</span><span id="__span-6-25"><a id="__codelineno-6-25" name="__codelineno-6-25" href="#__codelineno-6-25"></a><span class="w">    </span><span class="o">}</span>
</span><span id="__span-6-26"><a id="__codelineno-6-26" name="__codelineno-6-26" href="#__codelineno-6-26"></a><span class="o">}</span>
</span><span id="__span-6-27"><a id="__codelineno-6-27" name="__codelineno-6-27" href="#__codelineno-6-27"></a>
</span><span id="__span-6-28"><a id="__codelineno-6-28" name="__codelineno-6-28" href="#__codelineno-6-28"></a>void<span class="w"> </span>app_main<span class="o">(</span>void<span class="o">)</span>
</span><span id="__span-6-29"><a id="__codelineno-6-29" name="__codelineno-6-29" href="#__codelineno-6-29"></a><span class="o">{</span>
</span><span id="__span-6-30"><a id="__codelineno-6-30" name="__codelineno-6-30" href="#__codelineno-6-30"></a><span class="w">    </span>ESP_LOGI<span class="o">(</span>TAG,<span class="w"> </span><span class="s2">&quot;Starting Lab 3A (race demo)&quot;</span><span class="o">)</span><span class="p">;</span>
</span><span id="__span-6-31"><a id="__codelineno-6-31" name="__codelineno-6-31" href="#__codelineno-6-31"></a>
</span><span id="__span-6-32"><a id="__codelineno-6-32" name="__codelineno-6-32" href="#__codelineno-6-32"></a><span class="w">    </span>xTaskCreate<span class="o">(</span>increment_task,<span class="w"> </span><span class="s2">&quot;incA&quot;</span>,<span class="w"> </span><span class="m">2048</span>,<span class="w"> </span><span class="s2">&quot;TaskA&quot;</span>,<span class="w"> </span><span class="m">5</span>,<span class="w"> </span>NULL<span class="o">)</span><span class="p">;</span>
</span><span id="__span-6-33"><a id="__codelineno-6-33" name="__codelineno-6-33" href="#__codelineno-6-33"></a><span class="w">    </span>xTaskCreate<span class="o">(</span>increment_task,<span class="w"> </span><span class="s2">&quot;incB&quot;</span>,<span class="w"> </span><span class="m">2048</span>,<span class="w"> </span><span class="s2">&quot;TaskB&quot;</span>,<span class="w"> </span><span class="m">5</span>,<span class="w"> </span>NULL<span class="o">)</span><span class="p">;</span>
</span><span id="__span-6-34"><a id="__codelineno-6-34" name="__codelineno-6-34" href="#__codelineno-6-34"></a><span class="o">}</span>
</span></code></pre></div>
- <strong>Why can the counter be wrong?</strong> - Because, the task is divided in 3 instructions, one thhat reads, the other that adds and the last one that returns the value, and if any of the instructions is interrupted, it will loose an increment. </p>
<h3 id="first-code-fix-with-a-mutex">First code fix with a mutex</h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1">#include &lt;stdio.h&gt;</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="c1">#include &quot;freertos/FreeRTOS.h&quot;</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="c1">#include &quot;freertos/task.h&quot;</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="c1">#include &quot;freertos/semphr.h&quot;</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="c1">#include &quot;esp_log.h&quot;</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>static<span class="w"> </span>const<span class="w"> </span>char<span class="w"> </span>*TAG<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;LAB3B&quot;</span><span class="p">;</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>static<span class="w"> </span>volatile<span class="w"> </span>int<span class="w"> </span><span class="nv">shared_counter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>static<span class="w"> </span>SemaphoreHandle_t<span class="w"> </span>counter_mutex<span class="p">;</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a>static<span class="w"> </span>void<span class="w"> </span>increment_task<span class="o">(</span>void<span class="w"> </span>*pvParameters<span class="o">)</span>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a><span class="o">{</span>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="w">    </span>const<span class="w"> </span>char<span class="w"> </span>*name<span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">(</span>const<span class="w"> </span>char<span class="w"> </span>*<span class="o">)</span>pvParameters<span class="p">;</span>
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a>
</span><span id="__span-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="o">(</span><span class="m">1</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-7-17"><a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a><span class="w">        </span>xSemaphoreTake<span class="o">(</span>counter_mutex,<span class="w"> </span>portMAX_DELAY<span class="o">)</span><span class="p">;</span>
</span><span id="__span-7-18"><a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a>
</span><span id="__span-7-19"><a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a><span class="w">        </span>int<span class="w"> </span><span class="nb">local</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>shared_counter<span class="p">;</span>
</span><span id="__span-7-20"><a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a><span class="w">        </span>local++<span class="p">;</span>
</span><span id="__span-7-21"><a id="__codelineno-7-21" name="__codelineno-7-21" href="#__codelineno-7-21"></a><span class="w">        </span><span class="nv">shared_counter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>local<span class="p">;</span>
</span><span id="__span-7-22"><a id="__codelineno-7-22" name="__codelineno-7-22" href="#__codelineno-7-22"></a>
</span><span id="__span-7-23"><a id="__codelineno-7-23" name="__codelineno-7-23" href="#__codelineno-7-23"></a><span class="w">        </span>xSemaphoreGive<span class="o">(</span>counter_mutex<span class="o">)</span><span class="p">;</span>
</span><span id="__span-7-24"><a id="__codelineno-7-24" name="__codelineno-7-24" href="#__codelineno-7-24"></a>
</span><span id="__span-7-25"><a id="__codelineno-7-25" name="__codelineno-7-25" href="#__codelineno-7-25"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="o">((</span>shared_counter<span class="w"> </span>%<span class="w"> </span><span class="m">1000</span><span class="o">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">0</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-7-26"><a id="__codelineno-7-26" name="__codelineno-7-26" href="#__codelineno-7-26"></a><span class="w">            </span>ESP_LOGI<span class="o">(</span>TAG,<span class="w"> </span><span class="s2">&quot;%s sees counter=%d&quot;</span>,<span class="w"> </span>name,<span class="w"> </span>shared_counter<span class="o">)</span><span class="p">;</span>
</span><span id="__span-7-27"><a id="__codelineno-7-27" name="__codelineno-7-27" href="#__codelineno-7-27"></a><span class="w">        </span><span class="o">}</span>
</span><span id="__span-7-28"><a id="__codelineno-7-28" name="__codelineno-7-28" href="#__codelineno-7-28"></a>
</span><span id="__span-7-29"><a id="__codelineno-7-29" name="__codelineno-7-29" href="#__codelineno-7-29"></a><span class="w">        </span>vTaskDelay<span class="o">(</span>pdMS_TO_TICKS<span class="o">(</span><span class="m">1</span><span class="o">))</span><span class="p">;</span>
</span><span id="__span-7-30"><a id="__codelineno-7-30" name="__codelineno-7-30" href="#__codelineno-7-30"></a><span class="w">    </span><span class="o">}</span>
</span><span id="__span-7-31"><a id="__codelineno-7-31" name="__codelineno-7-31" href="#__codelineno-7-31"></a><span class="o">}</span>
</span><span id="__span-7-32"><a id="__codelineno-7-32" name="__codelineno-7-32" href="#__codelineno-7-32"></a>
</span><span id="__span-7-33"><a id="__codelineno-7-33" name="__codelineno-7-33" href="#__codelineno-7-33"></a>void<span class="w"> </span>app_main<span class="o">(</span>void<span class="o">)</span>
</span><span id="__span-7-34"><a id="__codelineno-7-34" name="__codelineno-7-34" href="#__codelineno-7-34"></a><span class="o">{</span>
</span><span id="__span-7-35"><a id="__codelineno-7-35" name="__codelineno-7-35" href="#__codelineno-7-35"></a><span class="w">    </span>ESP_LOGI<span class="o">(</span>TAG,<span class="w"> </span><span class="s2">&quot;Starting Lab 3B (mutex fix)&quot;</span><span class="o">)</span><span class="p">;</span>
</span><span id="__span-7-36"><a id="__codelineno-7-36" name="__codelineno-7-36" href="#__codelineno-7-36"></a>
</span><span id="__span-7-37"><a id="__codelineno-7-37" name="__codelineno-7-37" href="#__codelineno-7-37"></a><span class="w">    </span><span class="nv">counter_mutex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>xSemaphoreCreateMutex<span class="o">()</span><span class="p">;</span>
</span><span id="__span-7-38"><a id="__codelineno-7-38" name="__codelineno-7-38" href="#__codelineno-7-38"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">(</span><span class="nv">counter_mutex</span><span class="w"> </span><span class="o">==</span><span class="w"> </span>NULL<span class="o">)</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-7-39"><a id="__codelineno-7-39" name="__codelineno-7-39" href="#__codelineno-7-39"></a><span class="w">        </span>ESP_LOGE<span class="o">(</span>TAG,<span class="w"> </span><span class="s2">&quot;Mutex create failed&quot;</span><span class="o">)</span><span class="p">;</span>
</span><span id="__span-7-40"><a id="__codelineno-7-40" name="__codelineno-7-40" href="#__codelineno-7-40"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
</span><span id="__span-7-41"><a id="__codelineno-7-41" name="__codelineno-7-41" href="#__codelineno-7-41"></a><span class="w">    </span><span class="o">}</span>
</span><span id="__span-7-42"><a id="__codelineno-7-42" name="__codelineno-7-42" href="#__codelineno-7-42"></a>
</span><span id="__span-7-43"><a id="__codelineno-7-43" name="__codelineno-7-43" href="#__codelineno-7-43"></a><span class="w">    </span>xTaskCreate<span class="o">(</span>increment_task,<span class="w"> </span><span class="s2">&quot;incA&quot;</span>,<span class="w"> </span><span class="m">2048</span>,<span class="w"> </span><span class="s2">&quot;TaskA&quot;</span>,<span class="w"> </span><span class="m">5</span>,<span class="w"> </span>NULL<span class="o">)</span><span class="p">;</span>
</span><span id="__span-7-44"><a id="__codelineno-7-44" name="__codelineno-7-44" href="#__codelineno-7-44"></a><span class="w">    </span>xTaskCreate<span class="o">(</span>increment_task,<span class="w"> </span><span class="s2">&quot;incB&quot;</span>,<span class="w"> </span><span class="m">2048</span>,<span class="w"> </span><span class="s2">&quot;TaskB&quot;</span>,<span class="w"> </span><span class="m">5</span>,<span class="w"> </span>NULL<span class="o">)</span><span class="p">;</span>
</span><span id="__span-7-45"><a id="__codelineno-7-45" name="__codelineno-7-45" href="#__codelineno-7-45"></a><span class="o">}</span>
</span></code></pre></div>
<h3 id="video-of-it-working-wo-modifications">Video of it working w/o modifications</h3>
<iframe width="560" height="315" src="https://www.youtube.com/embed/-6PK8rryN7M" frameborder="0" allowfullscreen></iframe>

<ul>
<li><strong>Remove the mutex again. Do you ever see weird behavior?</strong> - I donÂ´t see a weird behaviour, compared to the other one.</li>
</ul>
<h4 id="video-of-it-working_4">Video of it working</h4>
<iframe width="560" height="315" src="https://www.youtube.com/embed/3fsnEzzYnfg" frameborder="0" allowfullscreen></iframe>

<h2 id="change-priorities-taska-priority-6-taskb-priority-4">Change priorities: TaskA priority 6, TaskB priority 4.</h2>
<ul>
<li>
<p><strong>What do you expect and why</strong> - I expect that task A dominates the execution, and for it I could barely see task B</p>
</li>
<li>
<p><strong>In one sentence: what does a mutex â€œguaranteeâ€?</strong> - It guarantees that only one task at a time can access a shared resource.</p>
</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["content.code.copy", "content.tooltips"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>